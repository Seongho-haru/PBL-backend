{
  "info": {
    "name": "PBL Complete Learning Journey",
    "description": "PBL ì‹œìŠ¤í…œ ì™„ì „í•œ í•™ìŠµ ì—¬ì • ì‹œë‚˜ë¦¬ì˜¤\n\nì‹œë‚˜ë¦¬ì˜¤: íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸ â†’ ì»¤ë¦¬í˜ëŸ¼ ì¡°íšŒ â†’ ìˆ˜ê°•ì‹ ì²­ â†’ ë¬¸ì œ ê°•ì˜ í’€ì´ â†’ ì±„ì  (í‹€ë¦¼) â†’ ìœ ì‚¬ ë¬¸ì œ ì¶”ì²œ â†’ ê°œì¸í™” ì¶”ì²œ\n\nìš°ì„ ìˆœìœ„:\n- Priority 1: ìœ ì‚¬ ë¬¸ì œ ê°•ì˜ ì¶”ì²œ\n- Priority 2: ê°œì¸í™” ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œ",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://114.201.56.70:2358",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "curriculum_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "lecture_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "enrollment_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "submission_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Phase 1: User Registration & Login",
      "item": [
        {
          "name": "Register User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('user_id', response.id);",
                  "    console.log('âœ… íšŒì›ê°€ì… ì„±ê³µ:', response.username);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"student001\",\n    \"loginId\": \"student001\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            },
            "description": "ìƒˆë¡œìš´ ì‚¬ìš©ì íšŒì›ê°€ì…\n\nRequest Body:\n- username: ì‚¬ìš©ìëª…\n- loginId: ë¡œê·¸ì¸ ID (ì¤‘ë³µ ë¶ˆê°€)\n- password: ë¹„ë°€ë²ˆí˜¸"
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('user_id', response.id);",
                  "    console.log('âœ… ë¡œê·¸ì¸ ì„±ê³µ:', response.username);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"loginId\": \"student001\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "ì‚¬ìš©ì ë¡œê·¸ì¸\n\nRequest Body:\n- loginId: ë¡œê·¸ì¸ ID\n- password: ë¹„ë°€ë²ˆí˜¸"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Phase 2: Browse Curriculums",
      "item": [
        {
          "name": "Get All Public Curriculums",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-User-Id",
                "value": "{{user_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/curriculums",
              "host": ["{{base_url}}"],
              "path": ["api", "curriculums"]
            },
            "description": "ê³µê°œ ì»¤ë¦¬í˜ëŸ¼ ëª©ë¡ ì¡°íšŒ"
          },
          "response": []
        },
        {
          "name": "Get Curriculum Detail",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const curriculum = pm.response.json();",
                  "    pm.collectionVariables.set('curriculum_id', curriculum.id);",
                  "    console.log('ğŸ“š ì»¤ë¦¬í˜ëŸ¼:', curriculum.title);",
                  "    if (curriculum.lectures && curriculum.lectures.length > 0) {",
                  "        const firstLecture = curriculum.lectures[0];",
                  "        if (firstLecture && firstLecture.lectureId) {",
                  "            pm.collectionVariables.set('lecture_id', firstLecture.lectureId);",
                  "            console.log('ğŸ¯ ê°•ì˜ ID:', firstLecture.lectureId);",
                  "        }",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-User-Id",
                "value": "{{user_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/curriculums/1",
              "host": ["{{base_url}}"],
              "path": ["api", "curriculums", "1"]
            },
            "description": "ì»¤ë¦¬í˜ëŸ¼ ìƒì„¸ ì •ë³´ ì¡°íšŒ (ê°•ì˜ ëª©ë¡ í¬í•¨)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Phase 3: Enroll in Curriculum",
      "item": [
        {
          "name": "Enroll in Curriculum",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const enrollment = pm.response.json();",
                  "    pm.collectionVariables.set('enrollment_id', enrollment.id || enrollment.enrollmentId);",
                  "    console.log('âœ… ìˆ˜ê°• ì‹ ì²­ ì™„ë£Œ');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-User-Id",
                "value": "{{user_id}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"curriculumId\": {{curriculum_id}}\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/enrollments",
              "host": ["{{base_url}}"],
              "path": ["api", "enrollments"]
            },
            "description": "ì»¤ë¦¬í˜ëŸ¼ ìˆ˜ê°• ì‹ ì²­"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Phase 4: Solve Problem (Wrong Answer)",
      "item": [
        {
          "name": "Get Problem Lecture",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-User-Id",
                "value": "{{user_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/lectures/{{lecture_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "lectures", "{{lecture_id}}"]
            },
            "description": "ë¬¸ì œ ê°•ì˜ ì¡°íšŒ"
          },
          "response": []
        },
        {
          "name": "Submit Wrong Answer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const submission = pm.response.json();",
                  "    pm.collectionVariables.set('submission_id', submission.id);",
                  "    console.log('ğŸ“ ì˜ëª»ëœ ë‹µì•ˆ ì œì¶œ ì™„ë£Œ');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"source_code\": \"print('Wrong Answer')\",\n    \"language_id\": 92,\n    \"stdin\": \"\",\n    \"expected_output\": \"\",\n    \"cpu_time_limit\": 2,\n    \"memory_limit\": 128000\n}"
            },
            "url": {
              "raw": "{{base_url}}/submissions",
              "host": ["{{base_url}}"],
              "path": ["submissions"]
            },
            "description": "í‹€ë¦° ë‹µì•ˆ ì œì¶œ (ì¶”ì²œ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ìš©)"
          },
          "response": []
        },
        {
          "name": "Check Submission Result",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/submissions/{{submission_id}}",
              "host": ["{{base_url}}"],
              "path": ["submissions", "{{submission_id}}"]
            },
            "description": "ì œì¶œ ê²°ê³¼ í™•ì¸ (í‹€ë¦¼)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Phase 5: Get Recommendations",
      "item": [
        {
          "name": "Get Similar Problem Lectures (Priority 1)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-User-Id",
                "value": "{{user_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/recommendations/similar-lectures?lectureId={{lecture_id}}&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "recommendations", "similar-lectures"],
              "query": [
                {
                  "key": "lectureId",
                  "value": "{{lecture_id}}"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "ìœ ì‚¬ ë¬¸ì œ ê°•ì˜ ì¶”ì²œ (Priority 1 - ê°€ì¥ ì¤‘ìš”í•œ ê¸°ëŠ¥)\n\nì¹´í…Œê³ ë¦¬, íƒœê·¸, ë‚œì´ë„ ê¸°ë°˜ ìœ ì‚¬ë„ ê³„ì‚°ìœ¼ë¡œ ìœ ì‚¬í•œ ë¬¸ì œ ê°•ì˜ ì¶”ì²œ"
          },
          "response": []
        },
        {
          "name": "Get Personalized Curriculums (Priority 2)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-User-Id",
                "value": "{{user_id}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/recommendations/curriculums?limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "recommendations", "curriculums"],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "ê°œì¸í™” ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œ (Priority 2)\n\nì‚¬ìš©ìì˜ ìˆ˜ê°• ì´ë ¥, ì„ í˜¸ ì¹´í…Œê³ ë¦¬, íƒœê·¸, ë‚œì´ë„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»¤ë¦¬í˜ëŸ¼ ì¶”ì²œ"
          },
          "response": []
        }
      ]
    }
  ]
}
