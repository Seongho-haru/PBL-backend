################################################################################
# Judge0 Spring Boot Configuration File
################################################################################
# This configuration file contains all the settings for Judge0 Spring Boot.
# It maintains compatibility with the original Judge0 configuration format
# while adapting to Spring Boot's configuration system.

################################################################################
# Judge0 Server Configuration
################################################################################

# Server port
PORT=2358

# Enable or disable Judge0 Telemetry
JUDGE0_TELEMETRY_ENABLE=true

# Maintenance mode settings
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Judge0 is currently in maintenance.

# Wait result configuration
ENABLE_WAIT_RESULT=true

# Compiler options configuration
ENABLE_COMPILER_OPTIONS=true
ALLOWED_LANGUAGES_FOR_COMPILER_OPTIONS=

# Command line arguments configuration
ENABLE_COMMAND_LINE_ARGUMENTS=true

# Submission deletion configuration
ENABLE_SUBMISSION_DELETE=false

# Batched submissions configuration
ENABLE_BATCHED_SUBMISSIONS=true
MAX_SUBMISSION_BATCH_SIZE=20

# Callbacks configuration
ENABLE_CALLBACKS=true
CALLBACKS_MAX_TRIES=3
CALLBACKS_TIMEOUT=5.0

# Additional files configuration
ENABLE_ADDITIONAL_FILES=true

# Submission cache configuration
SUBMISSION_CACHE_DURATION=1.0

# Base64 encoding configuration
DISABLE_IMPLICIT_BASE64_ENCODING=false

################################################################################
# Judge0 Workers Configuration
################################################################################

# Worker configuration
WORKER_COUNT=4
POLLING_INTERVAL=1

# Queue configuration
MAX_QUEUE_SIZE=100

################################################################################
# Judge0 Server Access Configuration
################################################################################

# CORS configuration
ALLOW_ORIGIN=
DISALLOW_ORIGIN=
ALLOW_IP=
DISALLOW_IP=

################################################################################
# Judge0 Authentication Configuration
################################################################################

# Authentication configuration (optional)
AUTHN_HEADER=X-Auth-Token
AUTHN_TOKEN=

################################################################################
# Judge0 Authorization Configuration
################################################################################

# Authorization configuration (optional)
AUTHZ_HEADER=X-Auth-User
AUTHZ_TOKEN=

################################################################################
# Redis Configuration
################################################################################

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

################################################################################
# PostgreSQL Configuration
################################################################################

POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=judge0
POSTGRES_USER=judge0
POSTGRES_PASSWORD=judge0pass

################################################################################
# Submission Configuration
################################################################################

# Default execution limits
CPU_TIME_LIMIT=5.0
MAX_CPU_TIME_LIMIT=15.0
CPU_EXTRA_TIME=1.0
MAX_CPU_EXTRA_TIME=5.0
WALL_TIME_LIMIT=10.0
MAX_WALL_TIME_LIMIT=20.0
MEMORY_LIMIT=128000
MAX_MEMORY_LIMIT=512000
STACK_LIMIT=64000
MAX_STACK_LIMIT=128000
MAX_PROCESSES_AND_OR_THREADS=60
MAX_MAX_PROCESSES_AND_OR_THREADS=120
ENABLE_PER_PROCESS_AND_THREAD_TIME_LIMIT=false
ALLOW_ENABLE_PER_PROCESS_AND_THREAD_TIME_LIMIT=true
ENABLE_PER_PROCESS_AND_THREAD_MEMORY_LIMIT=false
ALLOW_ENABLE_PER_PROCESS_AND_THREAD_MEMORY_LIMIT=true
MAX_FILE_SIZE=1024
MAX_MAX_FILE_SIZE=4096
NUMBER_OF_RUNS=1
MAX_NUMBER_OF_RUNS=20
REDIRECT_STDERR_TO_STDOUT=false
MAX_EXTRACT_SIZE=10240
ALLOW_ENABLE_NETWORK=true
ENABLE_NETWORK=false

################################################################################
# Docker Configuration
################################################################################

DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_REGISTRY_URL=docker.io
MAX_CONCURRENT_CONTAINERS=10
CONTAINER_TIMEOUT=300
DOCKER_API_VERSION=
DOCKER_TLS_VERIFY=false
DOCKER_CERT_PATH=

################################################################################
# Security Configuration
################################################################################

SANDBOX_USER=judge
ALLOWED_SYSCALLS=read,write,exit,exit_group

################################################################################
# JobRunr Configuration
################################################################################

JOBRUNR_DASHBOARD_ENABLED=true
JOBRUNR_DASHBOARD_PORT=8081
DELETE_SUCCEEDED_JOBS_AFTER=72
PERMANENTLY_DELETE_JOBS_AFTER=168

################################################################################
# Spring Boot Configuration
################################################################################

# Logging configuration
LOG_LEVEL=INFO

# JVM configuration
JAVA_OPTS=-Xmx1g -Xms512m -XX:+UseG1GC

# Spring profiles
SPRING_PROFILES_ACTIVE=production
